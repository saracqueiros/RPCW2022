extends layout

block content
    .w3-card-4.w3-margin
        header(class="w3-container w3-dark-grey")
            h3 Submissão de ficheiros na Base de Dados 
        form.w3-container.w3-margin(class='w3-container' method='POST' action='/submitFile' enctype="multipart/form-data")
            .w3-row.w3-margin-bottom
                .w3-col.s3
                    label.w3-text-black Ficheiro
                .w3-col.s9.w3-border
                    input.w3-input(type='file' name='myFile')
            .w3-row.w3-margin-bottom
                .w3-col.s3
                    label.w3-text-black Descricao
                .w3-col.s9.w3-border
                    input.w3-input(type='text' name='descricao' placeholder='Insira a descrição do ficheiro')
            .w3-row.w3-margin-bottom
                
                .w3-col
                    input.w3-input(type='submit' value='Submeter')
    .w3-card-4
    .w3-card-4.w3-margin-dark 
      header(class="w3-container w3-dark-grey")
        h3 Lista de ficheiros registados na base de dados
    .w3-card-4
        if list.length > 0
            .w3-container 
            table.w3-table-all
                tr 
                    th Nome
                    th Data
                    th Tipo
                    th Descrição
                each f in list
                    tr
                        td= f._id
                        td= f.data
                        td= f.mimetype 
                        td= f.descricao
                        td 
                            form.w3-container(class='w3-container' method='POST' action='/deleteFile/' + f._id)
                                button.w3-btn.w3-red.w3-round-large.w3-right
                                    input.w3-input.w3-red(type="submit" value = 'X')

        else
            .w3-container
            p Não existem ficheiros registados na base de dados
        